(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{177:function(e,t,a){e.exports=a(318)},182:function(e,t,a){},183:function(e,t,a){},190:function(e,t,a){},207:function(e,t,a){},209:function(e,t,a){},211:function(e,t,a){},218:function(e,t,a){},222:function(e,t){},224:function(e,t){},261:function(e,t){},262:function(e,t){},318:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(37),c=a.n(r),o=(a(182),a(9)),s=a(10),i=a(12),u=a(11),m=a(13),p=(a(183),a(327)),h=a(326),d=a(29),E=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(p.a,{bg:"light",expand:"lg"},l.a.createElement(p.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(p.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(h.a,{className:"mr-auto"},l.a.createElement(d.b,{className:"nav-link",to:"/payment"},"Payment"),l.a.createElement(d.b,{className:"nav-link",to:"/create/project"},"Start a project"),l.a.createElement(d.b,{className:"nav-link",to:"/project"},"see a project"),l.a.createElement(d.b,{className:"nav-link",to:"/"},"Explore")),l.a.createElement(p.a.Brand,{className:"ml-auto mr-auto"},"Startkicker"),l.a.createElement(h.a,{className:"ml-auto"},this.props.isLogin?l.a.createElement(l.a.Fragment,null,l.a.createElement(d.b,{className:"nav-link",to:"/profile/".concat(this.props.curUser)},"Profile"),l.a.createElement(d.b,{className:"nav-link",to:"/",onClick:this.props.handleLogout},"Logout")):l.a.createElement(l.a.Fragment,null,l.a.createElement(d.b,{className:"nav-link",to:"/login"},"Login"),l.a.createElement(d.b,{className:"nav-link",to:"/signup"},"Signup")))))}}]),t}(l.a.Component),g=(a(189),a(8)),j=a(328),f=a(320),y=a(171),b=a(49),v=a.n(b),k=(a(190),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleClick=function(e){e.preventDefault(),a.props.history.push("/project/".concat(a.props.project._id))},a.handlePrice=function(e){console.log(e),console.log(a.props.project._id);var t=0;return e.forEach((function(e){console.log("plan",e),console.log("plan.project._id",e.project._id),console.log(a.props.project._id),console.log(e.price),e.project._id===a.props.project._id&&(t=e.price)})),t},a.displayInfo=function(){return"/profile/:userId"===a.props.match.path&&a.props.match.params.userId!==a.props.project.user?l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{className:"text-muted"},"Plan Price"),l.a.createElement(j.a.Text,null,a.handlePrice(a.props.selectPlan))):l.a.createElement(l.a.Fragment,null,l.a.createElement("small",{className:"text-muted"},"Backers"),l.a.createElement(j.a.Text,null,a.props.project.backersNum," Backers"))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(j.a,{className:"m-1 PjCard",onClick:this.handleClick},l.a.createElement(j.a.Body,null,l.a.createElement(f.a,null,l.a.createElement(y.a,{xs:!0,lg:"2"},l.a.createElement("img",{className:"pj-image",src:this.props.project.image})),l.a.createElement(y.a,null,l.a.createElement("small",{className:"text-muted"},"Project"),l.a.createElement(j.a.Title,null,this.props.project.title)),l.a.createElement(y.a,{md:"auto"},l.a.createElement("small",{className:"text-muted"},"project end date"),l.a.createElement(j.a.Subtitle,{className:"mt-1"},v()(this.props.project.endDate).format("LL"))),l.a.createElement(y.a,{xs:!0,lg:"2"},this.props.project&&this.displayInfo()))))}}]),t}(l.a.Component)),C=Object(g.f)(k),O=a(14),P=a.n(O),w=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={projects:[]},a.displayProject=function(e){return e.map((function(e){return l.a.createElement(C,{project:e})}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.get("".concat("http://startkicker.amazingshellyyy.com/api/v1","/project/all")).then((function(t){console.log(t.data),e.setState({projects:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Landing"),this.displayProject(this.state.projects))}}]),t}(l.a.Component),S=a(27),D=a(321),N=a(325),x=a(322),U=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={username:"",email:"",password:""},a.handleChange=function(e){a.setState(Object(S.a)({},e.target.name,e.target.value)),console.log("username",a.state.username),console.log("email",a.state.email),console.log("password",a.state.password)},a.handleSubmit=function(e){e.preventDefault(),console.log("hiiii"),console.log("bodytosend",a.state),P.a.post("".concat("http://startkicker.amazingshellyyy.com/api/v1","/auth/signup"),a.state).then((function(e){console.log(e.data.jwt);var t=e.data.jwt;a.props.setCurrentUser(t,e.data.userId),a.props.history.goBack()})).catch((function(e){console.log(e.response)}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,{className:"mt-5 pt-5"},l.a.createElement(f.a,null,l.a.createElement(y.a,null),l.a.createElement(y.a,{className:"text-center"},l.a.createElement("h3",{className:"p-2"},"Signup"),l.a.createElement(N.a,{className:"text-left",onSubmit:this.handleSubmit},l.a.createElement(N.a.Group,{controlId:"formBasicUsername"},l.a.createElement(N.a.Control,{type:"text",name:"username",placeholder:"Enter username",onChange:this.handleChange}),l.a.createElement(N.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),l.a.createElement(N.a.Group,{controlId:"formBasicEmail"},l.a.createElement(N.a.Control,{type:"email",name:"email",placeholder:"Enter email",onChange:this.handleChange}),l.a.createElement(N.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),l.a.createElement(N.a.Group,{controlId:"formBasicPassword"},l.a.createElement(N.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:this.handleChange})),l.a.createElement(x.a,{className:"",variant:"primary",type:"submit"},"Submit"))),l.a.createElement(y.a,null))))}}]),t}(l.a.Component),I=Object(g.f)(U),L=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(S.a)({},e.target.name,e.target.value)),console.log(a.state.email),console.log(a.state.password)},a.handleSubmit=function(e){e.preventDefault(),P.a.post("".concat("http://startkicker.amazingshellyyy.com/api/v1","/auth/login"),a.state).then((function(e){console.log(e.data.jwt);var t=e.data.jwt;a.props.setCurrentUser(t,e.data.userId),a.props.history.goBack()})).catch((function(e){console.log(e.response)}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,{className:"mt-5 pt-5"},l.a.createElement(f.a,null,l.a.createElement(y.a,null),l.a.createElement(y.a,{className:"text-center"},l.a.createElement("h3",{className:"p-2"},"Login"),l.a.createElement(N.a,{className:"text-left",onSubmit:this.handleSubmit},l.a.createElement(N.a.Group,{controlId:"formBasicEmail"},l.a.createElement(N.a.Control,{type:"email",name:"email",placeholder:"Enter email",onChange:this.handleChange}),l.a.createElement(N.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),l.a.createElement(N.a.Group,{controlId:"formBasicPassword"},l.a.createElement(N.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:this.handleChange})),l.a.createElement(x.a,{className:"",variant:"primary",type:"submit"},"Submit"))),l.a.createElement(y.a,null))))}}]),t}(l.a.Component),_=Object(g.f)(L),F=a(44),B=a(173),T=(a(207),a(61)),z=a.n(T),A=a(30),G=a(103),M={style:{base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}};var Y=function(){return l.a.createElement("label",null,"Card details",l.a.createElement(F.CardElement,{options:M}))},W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(){var e=Object(G.a)(z.a.mark((function e(t){var n,l;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log(a.props.curUser),n=a.props.curUser,l={amount:a.state.amount,currency:"usd",metadata:Object(A.a)({},a.state.curPlan,{userId:n})},console.log("objectToSend",l),P.a.post("".concat("http://startkicker.amazingshellyyy.com/api/v1","/pay/createPaymentIntent"),l).then((function(e){console.log(e.data),a.handlePayment(e.data.client_secret,a.state.username)})).catch((function(e){console.log(e.response)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handlePayment=function(){var e=Object(G.a)(z.a.mark((function e(t,n){var l,r,c,o;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=a.props,r=l.stripe,c=l.elements,r&&c){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,r.confirmCardPayment(t,{payment_method:{card:c.getElement(F.CardElement),billing_details:{name:a.state.username}}});case 5:(o=e.sent).error?console.log(o.error.message):"succeeded"===o.paymentIntent.status&&(console.log("payment success"),a.setState({display:"",display2:"none"}));case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),a.toProfile=function(e){e.preventDefault(),a.props.history.push("/profile/".concat(a.props.curUser))},a.state={client_secret:"",curPlan:{},amount:0,curUser:{},display:"none",display2:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.planId;P.a.get("".concat("http://startkicker.amazingshellyyy.com/api/v1","/plan/").concat(t)).then((function(t){console.log("GET plan",t.data),e.setState({curPlan:t.data,amount:100*t.data.price})})).catch((function(e){console.log(e)})),console.log(this.state)}},{key:"getcurUser",value:function(e){var t=this;P.a.get("".concat("http://startkicker.amazingshellyyy.com/api/v1","/user/").concat(e)).then((function(e){console.log(e.data),t.setState({curUser:e.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},l.a.createElement(Y,null),l.a.createElement("button",{disabled:!this.props.stripe,style:{display:this.state.display2}},"Confirm order")),l.a.createElement("div",{style:{display:this.state.display}},l.a.createElement("p",null,"Payment success"),l.a.createElement("button",{onClick:this.toProfile},"See All the project you back")))}}]),t}(l.a.Component),H=Object(g.f)(W);function $(e){return l.a.createElement(F.ElementsConsumer,null,(function(t){var a=t.stripe,n=t.elements;return l.a.createElement(H,Object.assign({},e,{stripe:a,elements:n}))}))}var R=Object(B.a)("pk_test_LS379O30gWnSDhwufbwDW00n000Zu7rz1X"),J=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,null,l.a.createElement(F.Elements,{stripe:R},l.a.createElement($,{curUser:this.props.curUser}))))}}]),t}(n.Component),V=Object(g.f)(J),X=a(324),Z=(a(209),a(176)),q=a(32),K=a(73),Q=a.n(K),ee=(a(211),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).addBorder=function(){return Q.a.parse(a.props.location.search).id==a.props.plan._id?"3px solid red":""},a.handleEdit=function(e){e.preventDefault(),a.props.updateEditPlan(a.props.plan._id),a.props.history.push({pathname:"/create/project/".concat(a.props.plan.project,"/plan"),search:"id=".concat(a.props.plan._id)})},a.handleDelete=function(e){e.preventDefault(),P.a.delete("".concat("http://startkicker.amazingshellyyy.com/api/v1","/plan/").concat(a.state.plan._id)).then((function(e){console.log(e.data),a.setState({plan:{}})})).catch((function(e){console.log(e)}))},a.handleClick=function(){console.log(a.state.plan._id),a.props.handleSelect(a.state.plan._id)},a.handleModal=function(){a.state.show?a.setState({show:!1}):a.setState({show:!0})},a.state={plan:a.props.plan,border:"",show:!1},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(f.a,{className:""},l.a.createElement(y.a,null,this.state.plan.price&&l.a.createElement(l.a.Fragment,null,l.a.createElement(j.a,{onClick:function(){"/project/:projectId/plan/checkout"==e.props.match.path&&e.handleClick()},className:"detail-show",style:{border:this.addBorder(),backgroundColor:this.state.show}},l.a.createElement(j.a.Body,null,l.a.createElement(j.a.Title,null,"Pledge US$",this.state.plan.price),l.a.createElement(j.a.Subtitle,{className:"mt-3 mb-2"},this.state.plan.subtitle),l.a.createElement(j.a.Text,{className:"text-muted"},this.state.plan.content),l.a.createElement("div",null,l.a.createElement("small",{className:"text-muted"},"ESTIMATE DELIVERY"),l.a.createElement(j.a.Text,null,this.state.plan.estDelivery)),l.a.createElement("div",null,l.a.createElement("small",{className:"text-muted"},this.state.plan.backers.length," bakers")),this.props.curUser===this.state.plan.user&&l.a.createElement(l.a.Fragment,null,l.a.createElement(x.a,{variant:"outline-dark",onClick:this.handleEdit},"Edit"),l.a.createElement(x.a,{variant:"outline-danger",onClick:this.handleModal},"Delete"),l.a.createElement(X.a,{className:"modal",show:this.state.show,onHide:this.handleModal},l.a.createElement(X.a.Header,{closeButton:!0},l.a.createElement(X.a.Title,null,"Are you Sure?")),l.a.createElement(X.a.Body,null,"You are trying to delete a plan, are you sure you want to delete?"),l.a.createElement(X.a.Footer,null,l.a.createElement(x.a,{className:"btn btn-danger",variant:"primary",onClick:this.handleDelete},"Delete"),l.a.createElement(x.a,{variant:"secondary",onClick:this.handleModal},"Close")))))))))}}]),t}(l.a.Component)),te=Object(g.f)(ee),ae=a(323),ne=a(50),le=a.n(ne),re={price:0,subtitle:"",content:"",estDelivery:"",_id:""},ce=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(S.a)({},e.target.name,e.target.value))},a.handleAddPlan=function(e){e.preventDefault(),console.log("projectId",a.props.match.params.projectId),console.log("UserId",a.props.curUser),P.a.post("".concat("http://startkicker.amazingshellyyy.com/api/v1","/plan/create"),Object(A.a)({},a.state,{project:a.props.match.params.projectId,user:a.props.curUser}),{headers:{authorization:"bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){console.log(e.data),a.props.addPlan(e.data),a.setState(Object(A.a)({},re))})).catch((function(e){console.log(e.response)}))},a.handleEditPlan=function(e){e.preventDefault(),P.a.put("".concat("http://startkicker.amazingshellyyy.com/api/v1","/plan/").concat(a.state._id),a.state).then((function(e){console.log("edit is save",e.data),window.location=a.props.location.pathname})).catch((function(e){console.log(e.response)}))},a.handleCancel=function(e){e.preventDefault(),window.location=a.props.location.pathname},a.convertStringtoDate=function(e){return new Date(e).toLocaleDateString()},a.handleDayClick=a.handleDayClick.bind(Object(q.a)(a)),a.state=Object(A.a)({},re),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleDayClick",value:function(e,t){var a=t.selected;t.disabled||(a?this.setState({estDelivery:void 0}):(this.setState({estDelivery:e}),console.log(this.state.estDelivery)))}},{key:"render",value:function(){return l.a.createElement(f.a,{className:""},l.a.createElement(y.a,null),l.a.createElement(y.a,null,l.a.createElement(j.a,{style:{width:"40rem",minHeight:"20rem",margin:"10px"}},l.a.createElement(j.a.Body,null,l.a.createElement(N.a,null,l.a.createElement("label",{className:"text-muted",htmlFor:"price"},"Price"),l.a.createElement(ae.a,null,l.a.createElement(ae.a.Prepend,null,l.a.createElement(ae.a.Text,null,"US$")),l.a.createElement(N.a.Control,{id:"price",type:"text",name:"price",placeholder:"price for this plan",value:this.state.price,onChange:this.handleChange})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,{className:"text-muted"},"Subtitle"),l.a.createElement(N.a.Control,{size:"sm",type:"text",name:"subtitle",placeholder:"Subtitle",value:this.state.subtitle,onChange:this.handleChange})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,{className:"text-muted"},"Content"),l.a.createElement(N.a.Control,{size:"sm",as:"textarea",rows:"5",name:"content",placeholder:"What will be included in this awards?",value:this.state.content,onChange:this.handleChange})),l.a.createElement(N.a.Group,null,l.a.createElement(D.a,null,l.a.createElement(f.a,null,l.a.createElement(y.a,null,l.a.createElement(N.a.Label,{className:"text-muted"},"Estimate Delivery")),l.a.createElement(y.a,null,l.a.createElement("div",null,l.a.createElement(le.a,{id:"example-datepicker",onDayClick:this.handleDayClick,selectedDays:this.state.estDelivery,disabledDays:{before:new Date}}),this.state.estDelivery?l.a.createElement("p",null,"You clicked ",this.convertStringtoDate(this.state.estDelivery)):l.a.createElement("p",null,"Please select a day."))),l.a.createElement(y.a,null)))),this.state._id?l.a.createElement(l.a.Fragment,null,l.a.createElement(x.a,{variant:"outline-primary",type:"submit",onClick:this.handleEditPlan},"Save"),l.a.createElement(x.a,{variant:"outline-dark",type:"submit",onClick:this.handleCancel},"Cancel")):l.a.createElement(x.a,{variant:"outline-primary",type:"submit",onClick:this.handleAddPlan},"Add")))," ")),l.a.createElement(y.a,null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(console.log("nextProps",e),console.log("prevState",t),e.editPlan._id!==t._id)return Object(A.a)({},e.editPlan)}}]),t}(l.a.Component),oe=Object(g.f)(ce),se=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).displayPlans=function(e){return console.log(a.props),e.map((function(e){return l.a.createElement(te,{handleSelect:a.props.handleSelect,key:e._id,plan:e,curUser:a.props.curUser,addPlan:a.addPlan.bind(Object(q.a)(a)),updateEditPlan:a.updateEditPlan.bind(Object(q.a)(a))})}))},a.updateEditPlan=function(e){a.setState({EditId:e}),P.a.get("".concat("http://startkicker.amazingshellyyy.com/api/v1","/plan/").concat(e)).then((function(e){a.setState({editPlan:e.data})})).catch((function(e){console.log(e.response)}))},a.handleFinish=function(e){var t=a.props.match.params.projectId;e.preventDefault(),a.props.history.push("/project/".concat(t))},console.log(a.props.plans),a.state={plans:a.props.plans,isLoading:!0,EditId:"",editPlan:{}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.projectId;P.a.get("".concat("http://startkicker.amazingshellyyy.com/api/v1","/plan/all/").concat(t)).then((function(t){console.log(t.data),e.setState({plans:t.data,isLoading:!1})})).catch((function(e){console.log(e.response)}))}},{key:"addPlan",value:function(e){this.setState({plans:[].concat(Object(Z.a)(this.state.plans),[e])})}},{key:"render",value:function(){return l.a.createElement(D.a,{className:"mt-5"},l.a.createElement(f.a,null,"c"===this.props.location.pathname[1]&&l.a.createElement(y.a,null,l.a.createElement(oe,{curUser:this.props.curUser,addPlan:this.addPlan.bind(this),editPlan:this.state.editPlan})),l.a.createElement(y.a,null,this.state.isLoading?l.a.createElement("div",null,"You don't have any plans for this project yet"):this.displayPlans(this.state.plans),"c"===this.props.location.pathname[1]&&l.a.createElement(x.a,{variant:"outline-primary",className:"ml-5",onClick:this.handleFinish},"Finish "))))}}]),t}(l.a.Component),ie=Object(g.f)(se),ue=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={curProject:{},show:!1},a.handleEdit=function(e){e.preventDefault(),console.log("edit"),a.props.history.push("/project/".concat(a.props.match.params.projectId,"/edit"))},a.handleDelete=function(e){e.preventDefault(),console.log("delete");var t=a.props.match.params.projectId;P.a.delete("".concat("http://startkicker.amazingshellyyy.com/api/v1","/project/").concat(t),{headers:{authorization:"bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){console.log(e.data),a.props.history.push("/")})).catch((function(e){console.log(e.response)}))},a.handleModal=function(){a.state.show?a.setState({show:!1}):a.setState({show:!0})},a.handleAddPlan=function(e){e.preventDefault(),a.props.history.push("/create/project/".concat(a.state.curProject._id,"/plan"))},a.handleBacking=function(e){e.preventDefault(),a.props.history.push(a.props.location.pathname.concat("/plan/checkout"))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.projectId;console.log(t),P.a.get("".concat("http://startkicker.amazingshellyyy.com/api/v1","/project/").concat(t)).then((function(t){console.log(t.data),e.setState({curProject:t.data})})).catch((function(t){console.log(t.response),e.props.history.push("/")}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.state.curProject&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"head"},l.a.createElement(D.a,null,l.a.createElement(f.a,null,l.a.createElement(y.a,null,this.state.curProject&&this.state.curProject.user&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-center pt-5 pb-5 mb-3"},l.a.createElement("h3",null,this.state.curProject.title),l.a.createElement(f.a,null,l.a.createElement(y.a,{sm:8},l.a.createElement("img",{width:"100%",src:this.state.curProject.image})),l.a.createElement(y.a,{sm:4,className:"text-left"},l.a.createElement("div",{className:"mb-3"},l.a.createElement("h3",{className:"m-0"},"$",this.state.curProject.goal),l.a.createElement("small",{className:"text-muted"},"pledged of ",this.state.curProject.goal," goal")),l.a.createElement("div",{className:"mb-3"},l.a.createElement("h3",{className:"m-0"},this.state.curProject.backersNum),l.a.createElement("small",{className:"text-muted"},"backers")),l.a.createElement("div",{className:"mb-3"},l.a.createElement("h3",{className:"m-0"},v()(this.state.curProject.endDate).fromNow().substring(2,5)),l.a.createElement("small",{className:"text-muted"},"days to go")),l.a.createElement("div",{className:"mt-5"},this.state.curProject.user&&this.state.curProject.user._id===this.props.curUser?l.a.createElement(l.a.Fragment,null,l.a.createElement(x.a,{onClick:this.handleEdit},"Edit"),l.a.createElement(x.a,{onClick:this.handleModal},"Delete"),l.a.createElement(x.a,{onClick:this.handleAddPlan},"Add more plans"),l.a.createElement(X.a,{className:"modal",show:this.state.show,onHide:this.handleModal},l.a.createElement(X.a.Header,{closeButton:!0},l.a.createElement(X.a.Title,null,"Are you Sure?")),l.a.createElement(X.a.Body,null,"You are trying to delete a project you owned, are you sure you want to delete?"),l.a.createElement(X.a.Footer,null,l.a.createElement(x.a,{className:"btn btn-danger",variant:"primary",onClick:this.handleDelete},"Delete"),l.a.createElement(x.a,{variant:"secondary",onClick:this.handleModal},"Close")))):l.a.createElement(x.a,{onClick:this.handleBacking},"Back the Project")))))))))),l.a.createElement(D.a,{className:"pt-5"},l.a.createElement(f.a,null,l.a.createElement(y.a,{sm:8},l.a.createElement("h3",null,"Our Story"),l.a.createElement("p",{className:"text-justify"},this.state.curProject.content)),l.a.createElement(y.a,{sm:4},l.a.createElement(D.a,null,l.a.createElement(f.a,null,l.a.createElement(y.a,null,l.a.createElement(f.a,null,l.a.createElement(y.a,null,this.state.curProject&&this.state.curProject.user&&l.a.createElement(j.a,{style:{width:"20rem",margin:"10px"}},l.a.createElement(j.a.Body,null,l.a.createElement("small",{className:"text-muted"},"About the Creater"),l.a.createElement(j.a.Title,null,this.state.curProject.user.username)))))))),this.state.curProject.plan&&0!==this.state.curProject.plan.length&&l.a.createElement(ie,{plans:this.state.curProject.plan,curUser:this.props.curUser}),this.state.curProject.plan&&0==this.state.curProject.plan.length&&this.props.curUser===this.state.curProject.user._id&&l.a.createElement(x.a,{onClick:this.handleAddPlan},"Add Plans"))))))}}]),t}(l.a.Component),me=Object(g.f)(ue),pe=a(172),he=(a(120),function(e){return function(t){function a(e){var t;return Object(o.a)(this,a),t=Object(i.a)(this,Object(u.a)(a).call(this,e)),localStorage.getItem("jwt")||t.props.history.push("/login"),t}return Object(m.a)(a,t),Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(e,this.props)}}]),a}(l.a.Component)}),de=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),console.log("create a project"),console.log(a.state),P.a.post("".concat("http://startkicker.amazingshellyyy.com/api/v1","/project/create"),a.state,{headers:{authorization:"bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){console.log(e.data),a.setState({show:!0,projectId:e.data._id})})).catch((function(e){console.log(e.response)}))},a.handleChange=function(e){a.setState(Object(S.a)({},e.target.name,e.target.value)),console.log("title",a.state.title),console.log("content",a.state.content),console.log("goal",a.state.goal)},a.handleNext=function(e){e.preventDefault(),a.props.history.push("/create/project/".concat(a.state.projectId,"/plan"))},a.handleDayClick=a.handleDayClick.bind(Object(q.a)(a)),a.state={projectId:"",title:"",content:"",goal:0,endDate:void 0,show:!1,image:""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleDayClick",value:function(e,t){var a=t.selected;t.disabled||(a?this.setState({endDate:void 0}):(this.setState({endDate:e}),console.log(this.state.endDate)))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,{className:"mt-5 mb-5 pb-5 pt-3"},l.a.createElement(f.a,null,l.a.createElement(y.a,null),l.a.createElement(y.a,{className:"text-center"},l.a.createElement("h3",{className:"p-2"},"Create a project"),l.a.createElement(N.a,{className:"text-left",onSubmit:this.handleSubmit},l.a.createElement(N.a.Group,{controlId:"formBasictitle"},l.a.createElement(N.a.Control,{type:"text",name:"title",placeholder:"Enter Project title",onChange:this.handleChange})),l.a.createElement(ae.a,{className:"mb-3"},l.a.createElement(ae.a.Prepend,null,l.a.createElement(ae.a.Text,{id:"basic-addon1"},"URL")),l.a.createElement(pe.a,{placeholder:"Image URL",name:"image",onChange:this.handleChange})),l.a.createElement(N.a.Group,{controlId:"formBasiccontent"},l.a.createElement(N.a.Control,{as:"textarea",rows:"10",name:"content",placeholder:"Tell us about your project!",onChange:this.handleChange})),l.a.createElement(N.a.Label,{htmlFor:"goal"},"Your Goal to kick off your project"),l.a.createElement(ae.a,{className:"mb-3"},l.a.createElement(ae.a.Prepend,null,l.a.createElement(ae.a.Text,null,"$")),l.a.createElement(pe.a,{name:"goal",onChange:this.handleChange,id:"goal"}),l.a.createElement(ae.a.Append,null,l.a.createElement(ae.a.Text,null,".00"))),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Label"),l.a.createElement(le.a,{id:"example-datepicker",onDayClick:this.handleDayClick,selectedDays:this.state.endDate,disabledDays:{before:new Date}}),this.state.endDate?l.a.createElement("p",null,"You clicked ",this.state.endDate.toLocaleDateString()):l.a.createElement("p",null,"Please select a day.")),this.state.show?l.a.createElement(x.a,{variant:"outline-primary",onClick:this.handleNext},"Next: create plans"):l.a.createElement(x.a,{variant:"primary",type:"submit"},"Save"))),l.a.createElement(y.a,null))))}}]),t}(l.a.Component),Ee=Object(g.f)(he(de)),ge=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleSubmit=function(e){var t=a.props.match.params.projectId;e.preventDefault(),P.a.put("".concat("http://startkicker.amazingshellyyy.com/api/v1","/project/").concat(t),a.state.editProject,{headers:{authorization:"bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){console.log(e.data),a.props.history.push("/project/".concat(e.data._id))})).catch((function(e){console.log(e.response)}))},a.handleChange=function(e){a.setState({editProject:Object(A.a)({},a.state.editProject,Object(S.a)({},e.target.name,e.target.value))}),console.log("title",a.state.editProject.title),console.log("content",a.state.editProject.content),console.log("goal",a.state.editProject.goal),console.log("goal",a.state.editProject.endDate)},a.convertStringtoDate=function(e){return new Date(e).toLocaleDateString()},a.handleDayClick=a.handleDayClick.bind(Object(q.a)(a)),a.state={editProject:{}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.projectId;console.log(t),P.a.get("".concat("http://startkicker.amazingshellyyy.com/api/v1","/project/").concat(t),{headers:{authorization:"bearer ".concat(localStorage.getItem("jwt"))}}).then((function(a){console.log(a.data);var n=new Date(a.data.endDate);a.data.user._id!==e.props.curUser&&e.props.history.push("/project/".concat(t)),e.setState({editProject:Object(A.a)({},a.data,{endDate:n})})})).catch((function(e){console.log(e.response)}))}},{key:"handleDayClick",value:function(e,t){var a=t.selected;t.disabled||(a?this.setState({editProject:Object(A.a)({},this.state.editProject,{endDate:void 0})}):(this.setState({editProject:Object(A.a)({},this.state.editProject,{endDate:e})}),console.log(this.state.editProject.endDate)))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,{className:"mt-5 pt-5"},l.a.createElement(f.a,null,l.a.createElement(y.a,null),l.a.createElement(y.a,{className:"text-center"},l.a.createElement("h3",{className:"p-2"},"Create a project"),l.a.createElement(N.a,{className:"text-left",onSubmit:this.handleSubmit},l.a.createElement(N.a.Group,{controlId:"formBasictitle"},l.a.createElement(N.a.Control,{type:"text",name:"title",placeholder:"Enter Project title",onChange:this.handleChange,value:this.state.editProject.title})),l.a.createElement(N.a.Group,{controlId:"formBasiccontent"},l.a.createElement(N.a.Control,{as:"textarea",rows:"10",name:"content",placeholder:"Tell us about your project!",onChange:this.handleChange,value:this.state.editProject.content})),l.a.createElement(N.a.Label,{htmlFor:"goal"},"Your Goal to kick off your project"),l.a.createElement(ae.a,{className:"mb-3"},l.a.createElement(ae.a.Prepend,null,l.a.createElement(ae.a.Text,null,"$")),l.a.createElement(pe.a,{name:"goal",onChange:this.handleChange,id:"goal",value:this.state.editProject.goal}),l.a.createElement(ae.a.Append,null,l.a.createElement(ae.a.Text,null,".00"))),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Label,null,"Label"),l.a.createElement(le.a,{id:"example-datepicker",onDayClick:this.handleDayClick,selectedDays:this.state.editProject.endDate,disabledDays:{before:new Date}}),this.state.editProject.endDate?l.a.createElement("p",null,"You clicked ",this.convertStringtoDate(this.state.editProject.endDate)):l.a.createElement("p",null,"Please select a day.")),l.a.createElement(x.a,{className:"",variant:"primary",type:"submit"},"Submit"))),l.a.createElement(y.a,null))))}}]),t}(l.a.Component),je=Object(g.f)(ge),fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).displayProject=function(e){return e.map((function(e){return l.a.createElement(C,{key:e._id,project:e,selectPlan:a.state.user.selectPlan})}))},a.state={user:{}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;P.a.get("".concat("http://startkicker.amazingshellyyy.com/api/v1","/user/").concat(this.props.match.params.userId)).then((function(t){console.log(t.data),e.setState({user:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,{className:"mt-5"},l.a.createElement(f.a,null,l.a.createElement(y.a,null),l.a.createElement(y.a,null,l.a.createElement("small",{className:"text-muted"},"User Info"),l.a.createElement(j.a,{style:{width:"60vw"}},this.state.user&&l.a.createElement(j.a.Body,null,l.a.createElement(j.a.Title,null,this.state.user.username),l.a.createElement(j.a.Subtitle,null,this.state.user.email),l.a.createElement(j.a.Text,null,"join Startkicker on ",v()(this.state.user.createdAt).subtract(10,"days").calendar())))),l.a.createElement(y.a,null))),l.a.createElement(D.a,{className:"mt-3"},l.a.createElement(f.a,null,l.a.createElement(y.a,null),l.a.createElement(y.a,null,l.a.createElement("small",{className:"text-muted"},"My Project"),l.a.createElement(j.a,{style:{width:"60vw"}},this.state.user&&this.state.user.ownPj&&this.displayProject(this.state.user.ownPj))),l.a.createElement(y.a,null))),l.a.createElement(D.a,{className:"mt-3"},l.a.createElement(f.a,null,l.a.createElement(y.a,null),l.a.createElement(y.a,null,l.a.createElement("small",{className:"text-muted"},"Project I support(selectPlan)"),l.a.createElement(j.a,{style:{width:"60vw"}},this.state.user&&this.state.user.supportPj&&this.displayProject(this.state.user.supportPj))),l.a.createElement(y.a,null))))}}]),t}(l.a.Component),ye=Object(g.f)(fe),be=(a(218),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={seletedId:""},a.handleSelect=function(e){console.log("incheckout",e),a.setState({seletedId:e}),a.props.history.push({pathname:a.props.location.pathname.concat("/".concat(e))}),console.log("statein checkout",a.state)},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(D.a,{className:"mt-5"},l.a.createElement(f.a,null,l.a.createElement(y.a,null,l.a.createElement("h3",null,"Celebrate bringing this project to life"),l.a.createElement("h6",null,"Select a plan below to be a part of it")))),l.a.createElement(ie,{handleSelect:this.handleSelect.bind(this),show:this.state.show,selectedId:this.state.seletedId}))}}]),t}(l.a.Component)),ve=Object(g.f)(be),ke=function(e){var t=e.isLogin,a=e.curUser,n=e.setCurrentUser;return l.a.createElement(g.c,null,l.a.createElement(g.a,{exact:!0,path:"/",component:w}),l.a.createElement(g.a,{path:"/signup",render:function(){return l.a.createElement(I,{isLogin:t,curUser:a,setCurrentUser:n})}}),l.a.createElement(g.a,{path:"/login",render:function(){return l.a.createElement(_,{isLogin:t,curUser:a,setCurrentUser:n})}}),l.a.createElement(g.a,{path:"/payment",component:he((function(){return l.a.createElement(V,{curUser:a,setCurrentUser:n})}))}),l.a.createElement(g.a,{path:"/project/:projectId/plan/checkout/:planId",render:function(){return l.a.createElement(V,{isLogin:t,curUser:a,setCurrentUser:n})}}),l.a.createElement(g.a,{path:"/project/:projectId/plan/checkout",render:function(){return l.a.createElement(ve,{isLogin:t,curUser:a,setCurrentUser:n})}}),l.a.createElement(g.a,{path:"/project/:projectId/edit",render:function(){return l.a.createElement(je,{isLogin:t,curUser:a,setCurrentUser:n})}}),l.a.createElement(g.a,{path:"/project/:projectId",render:function(){return l.a.createElement(me,{isLogin:t,curUser:a,setCurrentUser:n})}}),l.a.createElement(g.a,{path:"/create/project/:projectId/plan",render:function(){return l.a.createElement(ie,{isLogin:t,curUser:a,setCurrentUser:n})}}),l.a.createElement(g.a,{path:"/profile/:userId",render:function(){return l.a.createElement(ye,{isLogin:t,curUser:a,setCurrentUser:n})}}),l.a.createElement(g.a,{path:"/create/project",render:function(){return l.a.createElement(Ee,{isLogin:t,curUser:a,setCurrentUser:n})}}))},Ce=a(175),Oe=a.n(Ce),Pe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={isLogin:!1,curUser:""},a.setCurrentUser=function(e,t){console.log("get jwt and set user"),e&&(a.setState({isLogin:!0,curUser:t}),localStorage.setItem("jwt",e))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("jwt");if(e){var t=Oe.a.decode(e).foo;this.setCurrentUser(e,t)}}},{key:"handleLogout",value:function(){localStorage.removeItem("jwt"),this.setState({isLogin:!1,curUser:""})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(E,{isLogin:this.state.isLogin,curUser:this.state.curUser,setCurrentUser:this.setCurrentUser,handleLogout:this.handleLogout.bind(this)}),l.a.createElement(ke,{isLogin:this.state.isLogin,setCurrentUser:this.setCurrentUser,handleLogout:this.handleLogout,curUser:this.state.curUser}))}}]),t}(n.Component),we=Object(g.f)(Pe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(d.a,null,l.a.createElement(we,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[177,1,2]]]);
//# sourceMappingURL=main.9b53c649.chunk.js.map