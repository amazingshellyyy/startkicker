(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{177:function(e,t,a){e.exports=a(318)},182:function(e,t,a){},183:function(e,t,a){},190:function(e,t,a){},207:function(e,t,a){},209:function(e,t,a){},211:function(e,t,a){},218:function(e,t,a){},222:function(e,t){},224:function(e,t){},261:function(e,t){},262:function(e,t){},318:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(37),c=a.n(l),o=(a(182),a(9)),s=a(10),i=a(12),m=a(11),u=a(13),p=(a(183),a(321)),h=a(327),d=a(326),E=a(19),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,{bg:"light",expand:"lg"},r.a.createElement(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(h.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(d.a,{className:"mr-auto"},r.a.createElement(E.c,{className:"nav-link",to:"/create/project"},"Start a project"),r.a.createElement(E.c,{className:"nav-link",to:"/"},"Explore")),r.a.createElement(E.c,{to:"/"},r.a.createElement(h.a.Brand,{className:"ml-auto mr-auto"},"Startkicker")),r.a.createElement(d.a,{className:"ml-auto"},this.props.isLogin?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.c,{className:"nav-link",to:"/profile/".concat(this.props.curUser)},"Dashboard"),r.a.createElement(E.c,{className:"nav-link",to:"/",onClick:this.props.handleLogout},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(E.c,{className:"nav-link",to:"/login"},"Login"),r.a.createElement(E.c,{className:"nav-link",to:"/signup"},"Signup")))))}}]),t}(r.a.Component),j=(a(189),a(8)),f=a(328),y=a(320),b=a(171),v=a(42),k=a.n(v),C=(a(190),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleClick=function(e){e.preventDefault(),a.props.history.push("/project/".concat(a.props.project._id))},a.handlePrice=function(e){console.log(e),console.log(a.props.project._id);var t=0;return e.forEach((function(e){console.log("plan",e),console.log("plan.project._id",e.project._id),console.log(a.props.project._id),console.log(e.price),e.project._id===a.props.project._id&&(t=e.price)})),t},a.displayInfo=function(){return"/profile/:userId"===a.props.match.path&&a.props.match.params.userId!==a.props.project.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("small",{className:"text-muted"},"Plan Price"),r.a.createElement(f.a.Text,null,"$",a.handlePrice(a.props.selectPlan))):r.a.createElement(r.a.Fragment,null,r.a.createElement("small",{className:"text-muted"},"Backers"),r.a.createElement(f.a.Text,null,a.props.project.backersNum," Backers"))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,{className:"m-1 PjCard",onClick:this.handleClick},r.a.createElement(f.a.Body,null,r.a.createElement(y.a,null,r.a.createElement(b.a,{xs:!0,lg:"2"},r.a.createElement("img",{className:"pj-image",src:this.props.project.image})),r.a.createElement(b.a,null,r.a.createElement("small",{className:"text-muted"},"Project"),r.a.createElement(f.a.Title,null,this.props.project.title)),r.a.createElement(b.a,{md:"auto"},r.a.createElement("small",{className:"text-muted"},"project end date"),r.a.createElement(f.a.Subtitle,{className:"mt-1"},k()(this.props.project.endDate).format("LL"))),r.a.createElement(b.a,{xs:!0,lg:"2"},this.props.project&&this.displayInfo()))))}}]),t}(r.a.Component)),P=Object(j.f)(C),O=a(14),N=a.n(O),S=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={projects:[]},a.displayProject=function(e){return e.map((function(e){return r.a.createElement(P,{project:e})}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.a.get("".concat("https://startkicker.amazingshellyyy.com/api/v1","/project/all")).then((function(t){console.log(t.data),e.setState({projects:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"jumbotron"},r.a.createElement(p.a,null,r.a.createElement("h1",{className:"display-4"},"Welcome to Startkicker"),r.a.createElement("p",{className:"lead"},"This is place for you to start a kicker project or support other kicker projects! "),r.a.createElement("p",{className:"lead"},r.a.createElement(E.b,{to:"/create/project"},r.a.createElement("div",{className:"btn btn-primary btn-lg",role:"button"},"Start a project"))))),r.a.createElement(p.a,{style:{minHeight:"70vh"}},r.a.createElement("h3",null,"Explore Projects Here "),this.displayProject(this.state.projects)))}}]),t}(r.a.Component),w=a(29),D=a(325),x=a(322),U=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:""},a.handleChange=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value)),console.log("username",a.state.username),console.log("email",a.state.email),console.log("password",a.state.password)},a.handleSubmit=function(e){e.preventDefault(),console.log("hiiii"),console.log("bodytosend",a.state),N.a.post("".concat("https://startkicker.amazingshellyyy.com/api/v1","/auth/signup"),a.state).then((function(e){console.log(e.data.jwt);var t=e.data.jwt;a.props.setCurrentUser(t,e.data.userId),a.props.history.push("/")})).catch((function(e){console.log(e.response)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{className:"mt-5 pt-5",style:{minHeight:"75vh"}},r.a.createElement(y.a,null,r.a.createElement(b.a,{xs:1,md:4}),r.a.createElement(b.a,{xs:10,md:4,className:"text-center"},r.a.createElement("h3",{className:"p-2"},"Join now!"),r.a.createElement(D.a,{className:"text-left",onSubmit:this.handleSubmit},r.a.createElement(D.a.Group,{controlId:"formBasicUsername"},r.a.createElement(D.a.Control,{type:"text",name:"username",placeholder:"Username",onChange:this.handleChange})),r.a.createElement(D.a.Group,{controlId:"formBasicEmail"},r.a.createElement(D.a.Control,{type:"email",name:"email",placeholder:"Email",onChange:this.handleChange}),r.a.createElement(D.a.Text,{className:"text-muted"},"you will use this email to login")),r.a.createElement(D.a.Group,{controlId:"formBasicPassword"},r.a.createElement(D.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:this.handleChange})),r.a.createElement("hr",{className:"mt-4"}),r.a.createElement(x.a,{className:"mt-4 btn-block",variant:"outline-primary",type:"submit"},"Sign up"))),r.a.createElement(b.a,{xs:1,md:4}))))}}]),t}(r.a.Component),I=Object(j.f)(U),L=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},a.handleChange=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value)),console.log(a.state.email),console.log(a.state.password)},a.handleSubmit=function(e){e.preventDefault(),N.a.post("".concat("https://startkicker.amazingshellyyy.com/api/v1","/auth/login"),a.state).then((function(e){console.log(e.data.jwt);var t=e.data.jwt;a.props.setCurrentUser(t,e.data.userId),a.props.history.push("/profile/".concat(e.data.userId))})).catch((function(e){console.log(e.response)}))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{className:"mt-5 pt-5",style:{minHeight:"75vh"}},r.a.createElement(y.a,null,r.a.createElement(b.a,{xs:1,md:4}),r.a.createElement(b.a,{xs:10,md:4,className:"text-center"},r.a.createElement("h3",{className:"p-2"},"Welcome Back"),r.a.createElement(D.a,{className:"text-left",onSubmit:this.handleSubmit},r.a.createElement(D.a.Group,{controlId:"formBasicEmail"},r.a.createElement(D.a.Control,{type:"email",name:"email",placeholder:"Email",onChange:this.handleChange})),r.a.createElement(D.a.Group,{controlId:"formBasicPassword"},r.a.createElement(D.a.Control,{type:"password",name:"password",placeholder:"Password",onChange:this.handleChange})),r.a.createElement("hr",{className:"mt-4"}),r.a.createElement(x.a,{className:"mt-4 btn-block",variant:"outline-primary",type:"submit"},"Login"))),r.a.createElement(b.a,{xs:1,md:4}))))}}]),t}(r.a.Component),F=Object(j.f)(L),B=a(45),_=a(173),z=(a(207),a(324)),T=a(73),A=a.n(T),M=(a(209),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).addBorder=function(){return A.a.parse(a.props.location.search).id==a.props.plan._id?"3px solid antiquewhite":""},a.handleEdit=function(e){e.preventDefault(),a.props.updateEditPlan(a.props.plan._id),a.props.history.push({pathname:"/create/project/".concat(a.props.plan.project,"/plan"),search:"id=".concat(a.props.plan._id)})},a.handleDelete=function(e){e.preventDefault(),N.a.delete("".concat("https://startkicker.amazingshellyyy.com/api/v1","/plan/").concat(a.props.plan._id)).then((function(e){console.log(e.data),a.setState({plan:{},show:!1})})).catch((function(e){console.log(e)}))},a.handleClick=function(){console.log(a.props.plan._id),a.props.handleSelect(a.props.plan._id)},a.handleModal=function(){a.state.show?a.setState({show:!1}):a.setState({show:!0})},a.state={border:"",show:!1},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(y.a,{className:""},r.a.createElement(b.a,null,this.props.plan&&r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{onClick:function(){"/project/:projectId/plan/checkout"==e.props.match.path&&e.handleClick()},className:"detail-show",style:{border:this.addBorder(),backgroundColor:this.props.show}},r.a.createElement(f.a.Body,null,r.a.createElement(f.a.Title,null,"Pledge US$",this.props.plan.price),r.a.createElement(f.a.Subtitle,{className:"mt-3 mb-2"},this.props.plan.subtitle),r.a.createElement(f.a.Text,{className:"text-muted"},this.props.plan.content),r.a.createElement("div",null,r.a.createElement("small",{className:"text-muted"},"ESTIMATE DELIVERY"),r.a.createElement(f.a.Text,null,k()(this.props.plan.estDelivery).format("LL"))),r.a.createElement("div",null,r.a.createElement("small",{className:"text-muted"},this.props.plan.backers&&this.props.plan.backers.length," bakers")),this.props.curUser===this.props.plan.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{className:"mr-2 mt-3",variant:"outline-dark",onClick:this.handleEdit},"Edit"),r.a.createElement(x.a,{className:"mr-2 mt-3",variant:"outline-danger",onClick:this.handleModal},"Delete"),r.a.createElement(z.a,{className:"modal",show:this.state.show,onHide:this.handleModal},r.a.createElement(z.a.Header,{closeButton:!0},r.a.createElement(z.a.Title,null,"Are you Sure?")),r.a.createElement(z.a.Body,null,"You are trying to delete a plan, are you sure you want to delete?"),r.a.createElement(z.a.Footer,null,r.a.createElement(x.a,{className:"btn btn-danger",variant:"primary",onClick:this.handleDelete},"Delete"),r.a.createElement(x.a,{variant:"secondary",onClick:this.handleModal},"Close")))))))))}}]),t}(r.a.Component)),G=Object(j.f)(M),H=a(61),Y=a.n(H),W=a(25),$=a(105),R={style:{base:{color:"#32325d",fontFamily:'"Helvetica Neue", Helvetica, sans-serif',fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#aab7c4"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}};var J=function(){return r.a.createElement("label",null,r.a.createElement("h3",null,"Ready for Payment"),r.a.createElement("p",null,"Please input your credit card info here "),r.a.createElement(B.CardElement,{options:R}))},q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(){var e=Object($.a)(Y.a.mark((function e(t){var n,r;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log(a.props.curUser),n=a.props.curUser,r={amount:a.state.amount,currency:"usd",metadata:Object(W.a)({},a.state.curPlan,{userId:n})},console.log("objectToSend",r),N.a.post("".concat("https://startkicker.amazingshellyyy.com/api/v1","/pay/createPaymentIntent"),r).then((function(e){console.log(e.data),a.handlePayment(e.data.client_secret)})).catch((function(e){console.log(e.response)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handlePayment=function(){var e=Object($.a)(Y.a.mark((function e(t){var n,r,l,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.props,r=n.stripe,l=n.elements,r&&l){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,r.confirmCardPayment(t,{payment_method:{card:l.getElement(B.CardElement)}});case 5:(c=e.sent).error?console.log(c.error.message):"succeeded"===c.paymentIntent.status&&(console.log("payment success"),a.setState({display:"",display2:"none"}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.toProfile=function(e){e.preventDefault(),a.props.history.push("/profile/".concat(a.props.curUser))},a.state={client_secret:"",curPlan:{},amount:0,curUser:{},display:"none",display2:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.planId;N.a.get("".concat("https://startkicker.amazingshellyyy.com/api/v1","/plan/").concat(t)).then((function(t){console.log("GET plan",t.data),e.setState({curPlan:t.data,amount:100*t.data.price})})).catch((function(e){console.log(e)})),console.log(this.state)}},{key:"getcurUser",value:function(e){var t=this;N.a.get("".concat("https://startkicker.amazingshellyyy.com/api/v1","/user/").concat(e)).then((function(e){console.log(e.data),t.setState({curUser:e.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{className:"mt-5",style:{minHeight:"75vh"}},r.a.createElement(b.a,null,r.a.createElement("form",{onSubmit:this.handleSubmit.bind(this)},r.a.createElement(J,null),r.a.createElement(p.a,{className:"p-0"},r.a.createElement("div",{style:{display:this.state.display}},r.a.createElement("p",null,"Payment success"),r.a.createElement(x.a,{variant:"outline-primary",onClick:this.toProfile},"See All the project you back")),r.a.createElement(x.a,{className:"mt-4",variant:"outline-primary",disabled:!this.props.stripe,style:{display:this.state.display2},type:"submit"},"Confirm order"))))))}}]),t}(r.a.Component),V=Object(j.f)(q);function X(e){return r.a.createElement(B.ElementsConsumer,null,(function(t){var a=t.stripe,n=t.elements;return r.a.createElement(V,Object.assign({},e,{stripe:a,elements:n}))}))}var Z=Object(_.a)("pk_test_LS379O30gWnSDhwufbwDW00n000Zu7rz1X"),K=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={curPlan:{}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.a.get("".concat("https://startkicker.amazingshellyyy.com/api/v1","/plan/").concat(this.props.match.params.planId)).then((function(t){console.log(t.data),e.setState({curPlan:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(y.a,{className:"mt-5"},this.state.curPlan&&r.a.createElement(r.a.Fragment,null,r.a.createElement(G,{plan:this.state.curPlan}))),r.a.createElement(B.Elements,{stripe:Z},r.a.createElement(X,{curUser:this.props.curUser}))))}}]),t}(n.Component),Q=Object(j.f)(K),ee=a(329),te=(a(211),a(176)),ae=a(32),ne=a(323),re=a(50),le=a.n(re),ce={price:0,subtitle:"",content:"",estDelivery:"",_id:""},oe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value))},a.handleAddPlan=function(e){e.preventDefault(),console.log("projectId",a.props.match.params.projectId),console.log("UserId",a.props.curUser),N.a.post("".concat("https://startkicker.amazingshellyyy.com/api/v1","/plan/create"),Object(W.a)({},a.state,{project:a.props.match.params.projectId,user:a.props.curUser}),{headers:{authorization:"bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){console.log(e.data),a.props.addPlan(e.data),a.setState(Object(W.a)({},ce))})).catch((function(e){console.log(e.response)}))},a.handleEditPlan=function(e){e.preventDefault(),N.a.put("".concat("https://startkicker.amazingshellyyy.com/api/v1","/plan/").concat(a.state._id),a.state).then((function(e){console.log("edit is save",e.data),a.setState(Object(W.a)({},ce)),window.location="http://localhost:3000/create/project/".concat(e.data.project,"/plan")})).catch((function(e){console.log(e.response)}))},a.handleCancel=function(e){e.preventDefault(),window.location=a.props.location.pathname},a.convertStringtoDate=function(e){return new Date(e).toLocaleDateString()},a.handleDayClick=a.handleDayClick.bind(Object(ae.a)(a)),a.state=Object(W.a)({},ce),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleDayClick",value:function(e,t){var a=t.selected;t.disabled||(a?this.setState({estDelivery:void 0}):(this.setState({estDelivery:e}),console.log(this.state.estDelivery)))}},{key:"render",value:function(){return r.a.createElement(y.a,{className:""},r.a.createElement(b.a,null),r.a.createElement(b.a,null,r.a.createElement(f.a,{style:{width:"40rem",minHeight:"20rem",margin:"10px"}},r.a.createElement(f.a.Body,null,r.a.createElement(D.a,null,r.a.createElement("label",{className:"text-muted",htmlFor:"price"},"Price"),r.a.createElement(ne.a,null,r.a.createElement(ne.a.Prepend,null,r.a.createElement(ne.a.Text,null,"US$")),r.a.createElement(D.a.Control,{id:"price",type:"text",name:"price",placeholder:"price for this plan",value:this.state.price,onChange:this.handleChange})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{className:"text-muted"},"Subtitle"),r.a.createElement(D.a.Control,{size:"sm",type:"text",name:"subtitle",placeholder:"Subtitle",value:this.state.subtitle,onChange:this.handleChange})),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,{className:"text-muted"},"Content"),r.a.createElement(D.a.Control,{size:"sm",as:"textarea",rows:"5",name:"content",placeholder:"What will be included in this awards?",value:this.state.content,onChange:this.handleChange})),r.a.createElement(D.a.Group,null,r.a.createElement(p.a,null,r.a.createElement(y.a,null,r.a.createElement(b.a,null,r.a.createElement(D.a.Label,{className:"text-muted"},"Estimate Delivery")),r.a.createElement(b.a,null,r.a.createElement("div",null,r.a.createElement(le.a,{id:"example-datepicker",onDayClick:this.handleDayClick,selectedDays:this.state.estDelivery,disabledDays:{before:new Date}}),this.state.estDelivery?r.a.createElement("p",null,"You clicked ",this.convertStringtoDate(this.state.estDelivery)):r.a.createElement("p",null,"Please select a day."))),r.a.createElement(b.a,null)))),this.state._id?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{variant:"outline-primary",type:"submit",onClick:this.handleEditPlan},"Save"),r.a.createElement(x.a,{variant:"outline-dark",type:"submit",onClick:this.handleCancel},"Cancel")):r.a.createElement(x.a,{variant:"outline-primary",type:"submit",onClick:this.handleAddPlan},"Add")))," ")),r.a.createElement(b.a,null))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(console.log("nextProps",e),console.log("prevState",t),e.editPlan._id!==t._id)return Object(W.a)({},e.editPlan)}}]),t}(r.a.Component),se=Object(j.f)(oe),ie=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).displayPlans=function(e){return console.log(a.props),e.map((function(e){return r.a.createElement(G,{handleSelect:a.props.handleSelect,key:e._id,plan:e,curUser:a.props.curUser,addPlan:a.addPlan.bind(Object(ae.a)(a)),updateEditPlan:a.updateEditPlan.bind(Object(ae.a)(a))})}))},a.updateEditPlan=function(e){a.setState({EditId:e}),N.a.get("".concat("https://startkicker.amazingshellyyy.com/api/v1","/plan/").concat(e)).then((function(e){a.setState({editPlan:e.data})})).catch((function(e){console.log(e.response)}))},a.handleFinish=function(e){var t=a.props.match.params.projectId;e.preventDefault(),a.props.history.push("/project/".concat(t))},console.log(a.props.plans),a.state={plans:a.props.plans,isLoading:!0,EditId:"",editPlan:{}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.projectId;N.a.get("".concat("https://startkicker.amazingshellyyy.com/api/v1","/plan/all/").concat(t)).then((function(t){console.log(t.data),e.setState({plans:t.data,isLoading:!1})})).catch((function(e){console.log(e.response)}))}},{key:"addPlan",value:function(e){this.setState({plans:[].concat(Object(te.a)(this.state.plans),[e])})}},{key:"render",value:function(){return r.a.createElement(p.a,{className:"mt-5"},r.a.createElement(y.a,null,"c"===this.props.location.pathname[1]&&r.a.createElement(b.a,null,r.a.createElement(se,{curUser:this.props.curUser,addPlan:this.addPlan.bind(this),editPlan:this.state.editPlan})),r.a.createElement(b.a,null,this.state.isLoading?r.a.createElement("div",null,"You don't have any plans for this project yet"):this.displayPlans(this.state.plans),"c"===this.props.location.pathname[1]&&r.a.createElement(x.a,{variant:"outline-primary",className:"ml-5",onClick:this.handleFinish},"Finish "))))}}]),t}(r.a.Component),me=Object(j.f)(ie),ue=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),c=0;c<n;c++)l[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(l)))).state={curProject:{},show:!1},a.handleEdit=function(e){e.preventDefault(),console.log("edit"),a.props.history.push("/project/".concat(a.props.match.params.projectId,"/edit"))},a.handleDelete=function(e){e.preventDefault(),console.log("delete");var t=a.props.match.params.projectId;N.a.delete("".concat("https://startkicker.amazingshellyyy.com/api/v1","/project/").concat(t),{headers:{authorization:"bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){console.log(e.data),a.props.history.push("/")})).catch((function(e){console.log(e.response)}))},a.handleModal=function(){a.state.show?a.setState({show:!1}):a.setState({show:!0})},a.handleAddPlan=function(e){e.preventDefault(),a.props.history.push("/create/project/".concat(a.state.curProject._id,"/plan"))},a.handleBacking=function(e){e.preventDefault(),a.props.history.push(a.props.location.pathname.concat("/plan/checkout"))},a.displayPercent=function(e,t){return e/t*100},a.displayButtons=function(){return a.state.curProject.user&&a.state.curProject.user._id===a.props.curUser?r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{className:"mr-2 ",variant:"outline-dark",onClick:a.handleEdit},"Edit"),r.a.createElement(x.a,{className:"m-2",variant:"outline-danger",onClick:a.handleModal},"Delete"),r.a.createElement(x.a,{className:"m-2",variant:"outline-primary",onClick:a.handleAddPlan},"Add more plans"),r.a.createElement(z.a,{className:"modal",show:a.state.show,onHide:a.handleModal},r.a.createElement(z.a.Header,{closeButton:!0},r.a.createElement(z.a.Title,null,"Are you Sure?")),r.a.createElement(z.a.Body,null,"You are trying to delete a project you owned, are you sure you want to delete?"),r.a.createElement(z.a.Footer,null,r.a.createElement(x.a,{className:"btn btn-danger",variant:"primary",onClick:a.handleDelete},"Delete"),r.a.createElement(x.a,{variant:"secondary",onClick:a.handleModal},"Close")))):-1===a.state.curProject.backers.indexOf(a.props.curUser)?r.a.createElement(x.a,{onClick:a.handleBacking},"Back the Project"):r.a.createElement(x.a,{disabled:!0},"You've already back this project")},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.projectId;console.log(t),N.a.get("".concat("https://startkicker.amazingshellyyy.com/api/v1","/project/").concat(t)).then((function(t){console.log(t.data),e.setState({curProject:t.data})})).catch((function(t){console.log(t.response),e.props.history.push("/")}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.curProject&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"head"},r.a.createElement(p.a,null,r.a.createElement(y.a,null,r.a.createElement(b.a,null,this.state.curProject&&this.state.curProject.user&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"text-center pt-5 pb-5 mb-3"},r.a.createElement("h3",null,this.state.curProject.title),r.a.createElement(y.a,null,r.a.createElement(b.a,{sm:8},r.a.createElement("img",{width:"100%",src:this.state.curProject.image})),r.a.createElement(b.a,{sm:4,className:"text-left"},r.a.createElement("div",{className:"mb-3"},r.a.createElement(ee.a,{className:"mt-5 mb-3",animated:!0,now:this.displayPercent(this.state.curProject.balance,this.state.curProject.goal)}),r.a.createElement("h3",{className:"m-0"},"$",this.state.curProject.balance),r.a.createElement("small",{className:"text-muted"},"pledged of ",this.state.curProject.goal," goal")),r.a.createElement("div",{className:"mb-3"},r.a.createElement("h3",{className:"m-0"},this.state.curProject.backersNum),r.a.createElement("small",{className:"text-muted"},"backers")),r.a.createElement("div",{className:"mb-3"},r.a.createElement("h3",{className:"m-0"},k()(this.state.curProject.endDate).fromNow()),r.a.createElement("small",{className:"text-muted"},"time till end")),r.a.createElement("div",{className:"mt-5"},this.displayButtons()))))))))),r.a.createElement(p.a,{className:"pt-5"},r.a.createElement(y.a,null,r.a.createElement(b.a,{sm:8},r.a.createElement("h3",null,"Our Story"),r.a.createElement("p",{className:"text-justify"},this.state.curProject.content)),r.a.createElement(b.a,{sm:4},r.a.createElement(p.a,null,r.a.createElement(y.a,null,r.a.createElement(b.a,null,r.a.createElement(y.a,null,r.a.createElement(b.a,null,this.state.curProject&&this.state.curProject.user&&r.a.createElement(f.a,{style:{width:"20rem",margin:"10px"}},r.a.createElement(f.a.Body,null,r.a.createElement("small",{className:"text-muted"},"About the Creater"),r.a.createElement(f.a.Title,null,this.state.curProject.user.username)))))))),this.state.curProject.plan&&0!==this.state.curProject.plan.length&&r.a.createElement(me,{plans:this.state.curProject.plan,curUser:this.props.curUser}),this.state.curProject.plan&&0==this.state.curProject.plan.length&&this.props.curUser===this.state.curProject.user._id&&r.a.createElement(x.a,{onClick:this.handleAddPlan},"Add Plans"))))))}}]),t}(r.a.Component),pe=Object(j.f)(ue),he=a(172),de=(a(120),function(e){return function(t){function a(e){var t;return Object(o.a)(this,a),t=Object(i.a)(this,Object(m.a)(a).call(this,e)),localStorage.getItem("jwt")||t.props.history.push("/login"),t}return Object(u.a)(a,t),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),a}(r.a.Component)}),Ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),console.log("create a project"),console.log(a.state),N.a.post("".concat("https://startkicker.amazingshellyyy.com/api/v1","/project/create"),a.state,{headers:{authorization:"bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){console.log(e.data),a.setState({show:!0,projectId:e.data._id})})).catch((function(e){console.log(e.response)}))},a.handleChange=function(e){a.setState(Object(w.a)({},e.target.name,e.target.value)),console.log("title",a.state.title),console.log("content",a.state.content),console.log("goal",a.state.goal)},a.handleNext=function(e){e.preventDefault(),a.props.history.push("/create/project/".concat(a.state.projectId,"/plan"))},a.handleDayClick=a.handleDayClick.bind(Object(ae.a)(a)),a.state={projectId:"",title:"",content:"",goal:0,endDate:void 0,show:!1,image:""},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"handleDayClick",value:function(e,t){var a=t.selected;t.disabled||(a?this.setState({endDate:void 0}):(this.setState({endDate:e}),console.log(this.state.endDate)))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{className:"mt-5 mb-5 pb-5 pt-3",style:{minHeight:"75vh"}},r.a.createElement(y.a,null,r.a.createElement(b.a,null),r.a.createElement(b.a,{className:"text-center"},r.a.createElement("h3",{className:"p-2"},"Create a project"),r.a.createElement(D.a,{className:"text-left",onSubmit:this.handleSubmit},r.a.createElement(D.a.Group,{controlId:"formBasictitle"},r.a.createElement(D.a.Control,{type:"text",name:"title",placeholder:"Enter Project title",onChange:this.handleChange})),r.a.createElement(ne.a,{className:"mb-3"},r.a.createElement(ne.a.Prepend,null,r.a.createElement(ne.a.Text,{id:"basic-addon1"},"URL")),r.a.createElement(he.a,{placeholder:"Image URL",name:"image",onChange:this.handleChange})),r.a.createElement(D.a.Group,{controlId:"formBasiccontent"},r.a.createElement(D.a.Control,{as:"textarea",rows:"10",name:"content",placeholder:"Tell us about your project!",onChange:this.handleChange})),r.a.createElement(D.a.Label,{htmlFor:"goal"},"Your Goal to kick off your project"),r.a.createElement(ne.a,{className:"mb-3"},r.a.createElement(ne.a.Prepend,null,r.a.createElement(ne.a.Text,null,"$")),r.a.createElement(he.a,{name:"goal",onChange:this.handleChange,id:"goal"}),r.a.createElement(ne.a.Append,null,r.a.createElement(ne.a.Text,null,".00"))),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,null,"Label"),r.a.createElement(le.a,{id:"example-datepicker",onDayClick:this.handleDayClick,selectedDays:this.state.endDate,disabledDays:{before:new Date}}),this.state.endDate?r.a.createElement("p",null,"You clicked ",this.state.endDate.toLocaleDateString()):r.a.createElement("p",null,"Please select a day.")),this.state.show?r.a.createElement(x.a,{variant:"outline-primary",onClick:this.handleNext},"Next: create plans"):r.a.createElement(x.a,{variant:"primary",type:"submit"},"Save"))),r.a.createElement(b.a,null))))}}]),t}(r.a.Component),ge=Object(j.f)(de(Ee)),je=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=function(e){var t=a.props.match.params.projectId;e.preventDefault(),N.a.put("".concat("https://startkicker.amazingshellyyy.com/api/v1","/project/").concat(t),a.state.editProject,{headers:{authorization:"bearer ".concat(localStorage.getItem("jwt"))}}).then((function(e){console.log(e.data),a.props.history.push("/project/".concat(e.data._id))})).catch((function(e){console.log(e.response)}))},a.handleChange=function(e){a.setState({editProject:Object(W.a)({},a.state.editProject,Object(w.a)({},e.target.name,e.target.value))}),console.log("title",a.state.editProject.title),console.log("content",a.state.editProject.content),console.log("goal",a.state.editProject.goal),console.log("goal",a.state.editProject.endDate)},a.convertStringtoDate=function(e){return new Date(e).toLocaleDateString()},a.handleDayClick=a.handleDayClick.bind(Object(ae.a)(a)),a.state={editProject:{}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.projectId;console.log(t),N.a.get("".concat("https://startkicker.amazingshellyyy.com/api/v1","/project/").concat(t),{headers:{authorization:"bearer ".concat(localStorage.getItem("jwt"))}}).then((function(a){console.log(a.data);var n=new Date(a.data.endDate);a.data.user._id!==e.props.curUser&&e.props.history.push("/project/".concat(t)),e.setState({editProject:Object(W.a)({},a.data,{endDate:n})})})).catch((function(e){console.log(e.response)}))}},{key:"handleDayClick",value:function(e,t){var a=t.selected;t.disabled||(a?this.setState({editProject:Object(W.a)({},this.state.editProject,{endDate:void 0})}):(this.setState({editProject:Object(W.a)({},this.state.editProject,{endDate:e})}),console.log(this.state.editProject.endDate)))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{className:"mt-5 pt-5"},r.a.createElement(y.a,null,r.a.createElement(b.a,null),r.a.createElement(b.a,{className:"text-center"},r.a.createElement("h3",{className:"p-2"},"Create a project"),r.a.createElement(D.a,{className:"text-left",onSubmit:this.handleSubmit},r.a.createElement(D.a.Group,{controlId:"formBasictitle"},r.a.createElement(D.a.Control,{type:"text",name:"title",placeholder:"Enter Project title",onChange:this.handleChange,value:this.state.editProject.title})),r.a.createElement(D.a.Group,{controlId:"formBasiccontent"},r.a.createElement(D.a.Control,{as:"textarea",rows:"10",name:"content",placeholder:"Tell us about your project!",onChange:this.handleChange,value:this.state.editProject.content})),r.a.createElement(D.a.Label,{htmlFor:"goal"},"Your Goal to kick off your project"),r.a.createElement(ne.a,{className:"mb-3"},r.a.createElement(ne.a.Prepend,null,r.a.createElement(ne.a.Text,null,"$")),r.a.createElement(he.a,{name:"goal",onChange:this.handleChange,id:"goal",value:this.state.editProject.goal}),r.a.createElement(ne.a.Append,null,r.a.createElement(ne.a.Text,null,".00"))),r.a.createElement(D.a.Group,null,r.a.createElement(D.a.Label,null,"Label"),r.a.createElement(le.a,{id:"example-datepicker",onDayClick:this.handleDayClick,selectedDays:this.state.editProject.endDate,disabledDays:{before:new Date}}),this.state.editProject.endDate?r.a.createElement("p",null,"You clicked ",this.convertStringtoDate(this.state.editProject.endDate)):r.a.createElement("p",null,"Please select a day.")),r.a.createElement(x.a,{className:"",variant:"primary",type:"submit"},"Submit"))),r.a.createElement(b.a,null))))}}]),t}(r.a.Component),fe=Object(j.f)(je),ye=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).displayProject=function(e){return e.map((function(e){return r.a.createElement(P,{key:e._id,project:e,selectPlan:a.state.user.selectPlan})}))},a.state={user:{}},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.a.get("".concat("https://startkicker.amazingshellyyy.com/api/v1","/user/").concat(this.props.match.params.userId)).then((function(t){console.log(t.data),e.setState({user:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{minHeight:"75vh"}},r.a.createElement(p.a,{className:"mt-5"},r.a.createElement(y.a,null,r.a.createElement(b.a,{xs:1}),r.a.createElement(b.a,{xs:10},r.a.createElement("small",{className:"text-muted"},"User Info"),r.a.createElement(f.a,null,this.state.user&&r.a.createElement(f.a.Body,null,r.a.createElement(f.a.Title,null,this.state.user.username),r.a.createElement(f.a.Subtitle,null,this.state.user.email),r.a.createElement("small",{className:"text-muted mt-3"},"join Startkicker on ",k()(this.state.user.createdAt).subtract(10,"days").calendar())))),r.a.createElement(b.a,{xs:1}))),r.a.createElement(p.a,{className:"mt-3"},r.a.createElement(y.a,null,r.a.createElement(b.a,{xs:1}),r.a.createElement(b.a,{xs:10},r.a.createElement("small",{className:"text-muted"},"My Project"),r.a.createElement(f.a,null,this.state.user&&this.state.user.ownPj&&this.displayProject(this.state.user.ownPj),this.state.user.ownPj&&0==this.state.user.ownPj.length&&r.a.createElement(E.b,{to:"/create/project"},r.a.createElement("div",{className:"btn btn-primary m-5"},"Create a Project")))),r.a.createElement(b.a,{xs:1}))),r.a.createElement(p.a,{className:"mt-3"},r.a.createElement(y.a,null,r.a.createElement(b.a,{xs:1}),r.a.createElement(b.a,{xs:10},r.a.createElement("small",{className:"text-muted"},"Project I support(selectPlan)"),r.a.createElement(f.a,null,this.state.user&&this.state.user.supportPj&&this.displayProject(this.state.user.supportPj),this.state.user.supportPj&&0==this.state.user.supportPj.length&&r.a.createElement(E.b,{to:"/"},r.a.createElement("div",{className:"btn btn-primary m-5"},"Explore Projects now")))),r.a.createElement(b.a,{xs:1})))))}}]),t}(r.a.Component),be=Object(j.f)(ye),ve=(a(218),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={seletedId:""},a.handleSelect=function(e){console.log("incheckout",e),a.setState({seletedId:e}),a.props.history.push({pathname:a.props.location.pathname.concat("/".concat(e))}),console.log("statein checkout",a.state)},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{minHeight:"75vh"}},r.a.createElement(p.a,{className:"mt-5"},r.a.createElement(y.a,null,r.a.createElement(b.a,null,r.a.createElement("h3",null,"Celebrate bringing this project to life"),r.a.createElement("h6",null,"Select a plan below to be a part of it")))),r.a.createElement(me,{handleSelect:this.handleSelect.bind(this),show:this.state.show,selectedId:this.state.seletedId})))}}]),t}(r.a.Component)),ke=Object(j.f)(ve),Ce=function(e){var t=e.isLogin,a=e.curUser,n=e.setCurrentUser;return r.a.createElement(j.c,null,r.a.createElement(j.a,{exact:!0,path:"/",component:S}),r.a.createElement(j.a,{path:"/signup",render:function(){return r.a.createElement(I,{isLogin:t,curUser:a,setCurrentUser:n})}}),r.a.createElement(j.a,{path:"/login",render:function(){return r.a.createElement(F,{isLogin:t,curUser:a,setCurrentUser:n})}}),r.a.createElement(j.a,{path:"/payment",component:de((function(){return r.a.createElement(Q,{curUser:a,setCurrentUser:n})}))}),r.a.createElement(j.a,{path:"/project/:projectId/plan/checkout/:planId",render:function(){return r.a.createElement(Q,{isLogin:t,curUser:a,setCurrentUser:n})}}),r.a.createElement(j.a,{path:"/project/:projectId/plan/checkout",render:function(){return r.a.createElement(ke,{isLogin:t,curUser:a,setCurrentUser:n})}}),r.a.createElement(j.a,{path:"/project/:projectId/edit",render:function(){return r.a.createElement(fe,{isLogin:t,curUser:a,setCurrentUser:n})}}),r.a.createElement(j.a,{path:"/project/:projectId",render:function(){return r.a.createElement(pe,{isLogin:t,curUser:a,setCurrentUser:n})}}),r.a.createElement(j.a,{path:"/create/project/:projectId/plan",render:function(){return r.a.createElement(me,{isLogin:t,curUser:a,setCurrentUser:n})}}),r.a.createElement(j.a,{path:"/profile/:userId",render:function(){return r.a.createElement(be,{isLogin:t,curUser:a,setCurrentUser:n})}}),r.a.createElement(j.a,{path:"/create/project",render:function(){return r.a.createElement(ge,{isLogin:t,curUser:a,setCurrentUser:n})}}))},Pe=a(175),Oe=a.n(Pe),Ne=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(i.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLogin:!1,curUser:""},a.setCurrentUser=function(e,t){console.log("get jwt and set user"),e&&(a.setState({isLogin:!0,curUser:t}),localStorage.setItem("jwt",e))},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("jwt");if(e){var t=Oe.a.decode(e).foo;this.setCurrentUser(e,t)}}},{key:"handleLogout",value:function(){localStorage.removeItem("jwt"),this.setState({isLogin:!1,curUser:""})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{isLogin:this.state.isLogin,curUser:this.state.curUser,setCurrentUser:this.setCurrentUser,handleLogout:this.handleLogout.bind(this)}),r.a.createElement(Ce,{isLogin:this.state.isLogin,setCurrentUser:this.setCurrentUser,handleLogout:this.handleLogout,curUser:this.state.curUser}),r.a.createElement("div",{className:"jumbotron mb-0 mt-5 pt-0"},r.a.createElement(p.a,null,r.a.createElement("p",{className:"pt-5 lead text-center"},"Startkicker, INC \xa9 2020"))))}}]),t}(n.Component),Se=Object(j.f)(Ne);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(E.a,null,r.a.createElement(Se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[177,1,2]]]);
//# sourceMappingURL=main.b918dfab.chunk.js.map